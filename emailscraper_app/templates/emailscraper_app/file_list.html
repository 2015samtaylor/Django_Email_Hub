{% extends 'emailscraper_app/base.html' %}

{% block content %}
    <h2>Files</h2>

    <table class="table">
        <thread>
            <tr>
                <th>Emails</th>
                <th>File Type</th>
                <th>Column Names</th>
                <th>Delimiter</th>
                <th>RTF</th>
            </tr>
        </thread>
        <tbody>
            {% for file in files %}
            <tr>
                <td>{{ file.file }}</td>
                <td>{{ file.file_tag }}</td>
                <td>{{ file.column_names }}</td>
                <td>{{ file.delimiter }}</td>
                <!-- <td>{{ file.body_rtf_2|safe }}</td> Note the safe filter -->
            </tr>
            {% endfor %}
        </tbody>
    </table>

   
    <h2>Add File</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.media }}
        {{ form.as_p }}
        <button type="submit">Submit</button>
    </form>

<script src="https://cdn.ckeditor.com/ckeditor5/41.4.2/classic/ckeditor.js"></script>
<script>
    ClassicEditor
        .create(document.querySelector('.ckeditor'))
        .catch(error => {
            console.error(error);
        });
</script>

{% endblock content %}
